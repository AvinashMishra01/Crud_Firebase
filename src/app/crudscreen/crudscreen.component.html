<div class="container">


  <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">

    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-home" type="button" role="tab" aria-controls="pills-home" aria-selected="true" (click)="getData()">All Employee</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="pills-add-tab" data-bs-toggle="pill" data-bs-target="#pills-add" type="button" role="tab" aria-controls="pills-add" aria-selected="false" (click)="openAddUpdateScreen()">Add/Update Employee</button>
    </li>

  </ul>


<br>

<div class="tab-content" id="pills-tabContent">
  <!-- tab one  -->
  <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
    <div class="card">
      <div class="card-body">
        <table mat-table [dataSource]="dataSource1" class="mat-elevation-z8">
                <ng-container matColumnDef="sr">
                  <th mat-header-cell *matHeaderCellDef> Sr No </th>
                  <td mat-cell *matCellDef="let element let i=index"> {{i+1}} </td>
                </ng-container>
          <!-- Position Column -->
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef> Name </th>
            <td mat-cell *matCellDef="let element"> {{element.name}} </td>
          </ng-container>

          <!-- Name Column -->
          <ng-container matColumnDef="mo_no">
            <th mat-header-cell *matHeaderCellDef> Mobile No  </th>
            <td mat-cell *matCellDef="let element"> {{element.mo_no}} </td>
          </ng-container>

          <!-- Weight Column -->
          <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef> Email </th>
            <td mat-cell *matCellDef="let element"> {{element.email}} </td>
          </ng-container>

          <!-- Symbol Column -->
          <ng-container matColumnDef="gst">
            <th mat-header-cell *matHeaderCellDef> GST </th>
            <td mat-cell *matCellDef="let element"> {{element.gst}} </td>
          </ng-container>
          <ng-container matColumnDef="pan">
            <th mat-header-cell *matHeaderCellDef> PAN No. </th>
            <td mat-cell *matCellDef="let element"> {{element.pan}} </td>
          </ng-container>
          <ng-container matColumnDef="city">
            <th mat-header-cell *matHeaderCellDef> City </th>
            <td mat-cell *matCellDef="let element"> {{element.city}} </td>
          </ng-container>
          <ng-container matColumnDef="code">
            <th mat-header-cell *matHeaderCellDef> Code </th>
            <td mat-cell *matCellDef="let element"> {{element.code}} </td>
          </ng-container>
          <ng-container matColumnDef="state">
            <th mat-header-cell *matHeaderCellDef> State </th>
            <td mat-cell *matCellDef="let element"> {{element.state}} </td>
          </ng-container>

          <ng-container matColumnDef="act">
            <th mat-header-cell *matHeaderCellDef> Action </th>
            <td mat-cell *matCellDef="let element let j=index">
               <button type="button" class="btn btn-primary" (click)="openUpdate(element, j)">Update </button> &nbsp;
               <button type="button" class="btn btn-danger" (click)="deleteMessage()">Delete</button>
             </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns1"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns1;"></tr>
        </table>
      </div>
    </div>
    <br>

  </div>

  <!-- tab two  -->
  <div class="tab-pane fade" id="pills-add" role="tabpanel" aria-labelledby="pills-add-tab">

  <div class="card">
    <!-- <div class="card-header text-center" style="font-size: large;">
      Add Data
    </div> -->
    <div class="card-body">
      <div class="row">
        <div class="col-1 text-end">GSTIN : </div>
        <div class="col-3"><input type="text" class="form-control" [(ngModel)]="m_emp_data['gst']" placeholder="Enter GSTIN NO"></div>
        <div class="col-1 text-end">PAN No :</div>
        <div class="col-3"><input type="text" class="form-control" [(ngModel)]="m_emp_data['pan']" placeholder="Enter PAN No"></div>
        <div class="col-1 text-end">Code :</div>
        <div class="col-3"><input type="text" class="form-control" [(ngModel)]="m_emp_data['code']" placeholder="ENter Code "></div>
      </div>
<br>
      <div class="row">
        <div class="col-1 text-end">Name: </div>
        <div class="col-3"><input type="text" class="form-control" [(ngModel)]="m_emp_data['name']" placeholder="Enter Name" ></div>
        <div class="col-1 text-end">Address :</div>
        <div class="col-3"><input type="text" class="form-control" [(ngModel)]="m_emp_data['add']" placeholder="Fill Address"></div>
        <div class="col-1 text-end">Pin Code :</div>
        <div class="col-3"><input type="text" class="form-control" [(ngModel)]="m_emp_data['pin']" placeholder="Enter Pin Code"></div>
      </div>
      <br>
      <div class="row">
        <div class="col-1 text-end">Country: </div>
        <div class="col-3"><input type="text" class="form-control" [(ngModel)]="m_emp_data['coun']" placeholder="Enter Country Name"></div>
        <div class="col-1 text-end">State:</div>
        <div class="col-3"><input type="text" class="form-control" [(ngModel)]="m_emp_data['state']" placeholder="Enter State Name"></div>
        <div class="col-1 text-end">City :</div>
        <div class="col-3"><input type="text" class="form-control" [(ngModel)]="m_emp_data['city']" placeholder="Enter City Name"></div>
      </div>
      <br>
      <div class="row">
        <div class="col-1 text-end"> </div>
        <div class="col-3"></div>
        <div class="col-1 text-end">Mobile No :<span style="color: red">* </span></div>
        <div class="col-3"><input class="form-control" [(ngModel)]="m_emp_data['mo_no']" placeholder="Enter Mo No"
          oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"  type=" number"  maxlength="10"></div>
        <div class="col-1 text-end">Email :<span style="color: red">* </span></div>
        <div class="col-3">
          <input type="email" class="form-control" #ngInput [(ngModel)]="m_emp_data['email']" placeholder="Enter Email"  (ngModelChange)="checkEmail(ngInput.value)" >
          <!-- <span style="color:red" *ngIf="avivalid==false" >Email Not Valid</span> -->
          <ng-container *ngIf="spanAvi==false; else elseTemplate"  style="color: red">
          <span style="color: red"> <i>Enter Valid Email</i>  </span>
          </ng-container>
          <ng-template #elseTemplate  style="color: green">
                  <span style="color: green"> <i>Email Is Valid</i></span>
          </ng-template>

        </div>
      </div>
      <br>
      <div class="row">
        <div class="col-1 text-end">Latitude : </div>
        <div class="col-3"><input type="text" class="form-control" [(ngModel)]="m_emp_data['lat']" placeholder="Enter Latitude"></div>
        <div class="col-1 text-end">Longitude :</div>
        <div class="col-3"><input type="text" class="form-control" [(ngModel)]="m_emp_data['long']" placeholder="Enter Longitude " ></div>
        <div class="col-1 text-end">Currency :</div>
        <div class="col-3"><input type="text" class="form-control" [(ngModel)]="m_emp_data['curr']" placeholder="Enter Currency"></div>
      </div>
      <br>
      <div *ngIf="updateIs==true" class="row text-center">

        <div class="col-6 text-end"><button *ngIf="spanAvi==true" type="button" class="btn btn-primary" (click)="updateData()">Update</button></div>
        <div class="col-6 text-start" ><button type="button" class="btn btn-danger" (click)="cancelData1()">Cancel</button></div>
      </div>
      <br>

    </div>
  </div>
  <br>

    <!-- contact person detail  -->
    <div *ngIf="updateIs!=true">
    <div class="card">
      <div class="card-header text-center" style="font-size: large;">
       Contact Person Details
      </div>
      <div class="card-body">
        <br>
        <div class="row text-end">
          <div class="col-12"><button type="button" class="btn btn-primary" (click)="addOneMore()">Add</button> &nbsp;
          <button type="button" class="btn btn-danger" (click)="cancelData()">Cancel</button> </div>
        </div>
        <br>
        <!-- <div *ngFor="let row of r_emp_Detail let i=index">
          <div class="row r_emp text-center" >
            <div class="col">Person {{i+1}} Detail :</div></div>  </div> -->
        <div class="row">
          <div class="col-1 text-end">Name : </div>
          <div class="col-3"><input type="text" class="form-control" placeholder="Enter Name" [(ngModel)]="r_emp_data['r_name']"></div>
          <div class="col-1 text-end">Mobile : <span style="color: red;">*</span></div>

          <div class="col-3"><input class="form-control" [(ngModel)]="r_emp_data['r_mo_no']" placeholder="Enter Mobile No"
            oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"  type=" number"  maxlength="10"></div>

          <!-- <div class="col-3"><input type="text" class="form-control" [(ngModel)]="r_emp_data['r_mo_no']" placeholder="Enter Mobile No " ></div> -->
          <div class="col-1 text-end">Email :</div>
          <div class="col-3"><input type="text" class="form-control" [(ngModel)]="r_emp_data['r_email']" placeholder="Enter Email"></div>
        </div>
        <br>
        <div class="row">
          <div class="col-1 text-end">Department : </div>
          <div class="col-3"><input type="text" class="form-control" [(ngModel)]="r_emp_data['r_dep']" placeholder="Enter Department"></div>
          <div class="col-1 text-end">Designation :</div>
          <div class="col-3"><input type="text" class="form-control" [(ngModel)]="r_emp_data['r_des']" placeholder="Enter Designation " ></div>
        </div>
        <br>
        <div class="row" style="color: brown;">
        <div class="col"> <hr style="    border: 3px solid brown"> </div></div>


      </div>
     </div>
 <br>

 <!-- tabel -->
 <div class="card">
  <div class="card-header text-center" style="font-size: larger;">
     Contact Details
  </div>
  <div class="card-body">

    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

      <!--- Note that these columns can be defined in any order.
            The actual rendered columns are set as a property on the row definition" -->
            <ng-container matColumnDef="sr">
              <th mat-header-cell *matHeaderCellDef> Sr No </th>
              <td mat-cell *matCellDef="let element let i=index"> {{i+1}} </td>
            </ng-container>
      <!-- Position Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Name </th>
        <td mat-cell *matCellDef="let element"> {{element.r_name}} </td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="mo_no">
        <th mat-header-cell *matHeaderCellDef> Mobile No  </th>
        <td mat-cell *matCellDef="let element"> {{element.r_mo_no}} </td>
      </ng-container>

      <!-- Weight Column -->
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef> Email </th>
        <td mat-cell *matCellDef="let element"> {{element.r_email}} </td>
      </ng-container>

      <!-- Symbol Column -->
      <ng-container matColumnDef="dep">
        <th mat-header-cell *matHeaderCellDef> Department </th>
        <td mat-cell *matCellDef="let element"> {{element.r_dep}} </td>
      </ng-container>
      <ng-container matColumnDef="des">
        <th mat-header-cell *matHeaderCellDef> Designation </th>
        <td mat-cell *matCellDef="let element"> {{element.r_des}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>


<br>
    <div class="row text-center">
      <!-- <div class="col-6 text-end"><button *ngIf="this.spanAvi==true" type="button" class="btn btn-primary" (click)="saveData()">Save</button></div>
     <div class="col-6 text-end"><button *ngIf="this.spanAvi==true" type="button" class="btn btn-primary" (click)="saveData()">Save</button></div>  -->
     <div class="col-12"><button [disabled]="this.spanAvi!=true" type="button" class="btn btn-primary" (click)="saveData()">Save</button> &nbsp;
      <button type="button" class="btn btn-danger">Cancel</button>
    </div>
    <br>
    </div>
    </div>
  </div>
<br>
</div>

</div>
</div>
